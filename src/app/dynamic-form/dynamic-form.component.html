<form [formGroup]="dynamicForm"> 
  Value {{ dynamicForm.value | json}}
  <hr>

  <h3>Customer Information</h3>
  <mat-form-field>
    <mat-label>Customer Name</mat-label>
    <input matInput placeholder="Name" formControlName="customerName">
  </mat-form-field>
  <br>
  <mat-form-field>
    <mat-label>Email</mat-label>
    <input matInput placeholder="abc@example.com" formControlName="email">
    <mat-error *ngIf="email.invalid && (email.dirty || email.touched)">{{ getEmailErrorMessage() }}</mat-error>
  </mat-form-field>
  

  <h4>Shipping Address</h4>
  <div formArrayName="shippingAddressess">
    <div *ngFor="let shippingAddress of shippingAddressForm.controls; let i=index" [formGroupName]="i">
      <mat-form-field>
        <input matInput placeholder="Receiver Name" formControlName="receiverName">
      </mat-form-field>

      <mat-form-field>
        <input matInput placeholder="Address" formControlName="address">
      </mat-form-field>

    <button mat-raised-button color="accent" (click)="deleteShippingAddress(i)">Delete Shipping Address</button>

    </div>

  </div>

  <button mat-raised-button color="primary" (click)="addShippingAddress()">Add Shipping Address</button>
</form>